
 1. const user = await User.findByPk(userId);
						 findBy....

2. But backend thinks session is still valid, because refresh token is still good., what is
session????
layers these concepts


3. in auth-service.js, why not import { User, RefreshToken } from '../db/index.js';

4. what are the differeces short-live token and long-live token? why can't just have
long-live token?


5. in jwt.service.js file:
	why validateAccessToken don't return value, but validateRefreshToken does????
	go through jwt.service.js file


6. graceFullyShutDown() ????

7. DB Bootstrap (src/db/index.js)
Using alter: true in prod can be risky; explicit migrations (e.g. with Umzug) are
safer for production.


8. What is schema for, how to use it? what items should contain in a schema,
like User.

9. auth.db doesn't be create succefully.


Build and run docker

1. Dockerize and run
docker build -t auth-service .
docker run -p 3000:3000 auth-service

Auto-generate API docs
1.
npm install @fastify/swagger @fastify/swagger-ui

2. Now, after you start your container/app, you can open http://localhost:3001/docs to
see interactive API docs generated from your route schemas automatically.


1. checking the health:
curl http://localhost:3001/health

2. Send a regiter request
Can  you curl / Postman
curl -X POST http://localhost:3001/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"mypassword123"}'


Force remove in one step:
docker rm -f $(docker ps -a -q)

Clean up unused images/volumes/network
docker system prune --all --volumes
